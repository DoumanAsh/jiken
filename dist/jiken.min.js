!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(e.jiken=e.jiken||{})}(this,function(e){"use strict";var n=function(){function e(e,n){for(var t=0;t<n.length;t++){var i=n[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(n,t,i){return t&&e(n.prototype,t),i&&e(n,i),n}}(),t=function(){function e(){this._events={},this.addListener=this.on}return n(e,[{key:"_throw_on_invalid_listener",value:function(e){if("function"!=typeof e)throw new TypeError("listener must be a function!")}},{key:"_init_event_if",value:function(e){return void 0===this._events[e]&&(this._events[e]=[]),this}},{key:"emit",value:function(e){var n=this._events[e];if(!n||0===n.length)return!1;for(var t=arguments.length,i=Array(t>1?t-1:0),r=1;r<t;r++)i[r-1]=arguments[r];for(var s=0;s<n.length;s+=1){var o=n[s];o.once&&(o=o.inner,n.splice(s,1),s-=1),o.apply(this,i)}return 0===n.length&&delete this._events[e],!0}},{key:"eventNames",value:function(){return Object.keys(this._events)}},{key:"listenerCount",value:function(e){return this._events[e]?this._events[e].length:0}},{key:"listeners",value:function(e){return this._events[e]||[]}},{key:"on",value:function(e,n){return this._throw_on_invalid_listener(n),this._init_event_if(e),this._events[e].push(n),this}},{key:"prependListener",value:function(e,n){return this._throw_on_invalid_listener(n),this._init_event_if(e),this._events[e].unshift(n),this}},{key:"once",value:function(e,n){return this._throw_on_invalid_listener(n),this._init_event_if(e),this._events[e].push({once:!0,inner:n}),this}},{key:"prependOnceListener",value:function(e,n){return this._throw_on_invalid_listener(n),this._init_event_if(e),this._events[e].unshift({once:!0,inner:n}),this}},{key:"removeAllListeners",value:function(e){return void 0===e?this._events={}:delete this._events[e],this}},{key:"removeListener",value:function(e,n){this._throw_on_invalid_listener(n);var t=this._events[e];if(t)for(var i=0;i<t.length;i+=1){var r=t[i];if(r.once&&r.inner===n||r===n)return t.splice(i,1),this}return this}}]),e}();e.Jiken=t,Object.defineProperty(e,"__esModule",{value:!0})});
